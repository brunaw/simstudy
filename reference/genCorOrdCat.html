<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate correlated ordinal categorical data — genCorOrdCat • simstudy</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate correlated ordinal categorical data — genCorOrdCat" />
<meta property="og:description" content="Correlated ordinal categorical data is added to an existing data set." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simstudy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.17</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/simstudy.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kgoldfeld/simstudy/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate correlated ordinal categorical data</h1>
    <small class="dont-index">Source: <a href='https://github.com/kgoldfeld/simstudy/blob/master/R/genCorOrdCat.R'><code>R/genCorOrdCat.R</code></a></small>
    <div class="hidden name"><code>genCorOrdCat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Correlated ordinal categorical data is added to an existing data set.</p>
    </div>

    <pre class="usage"><span class='fu'>genCorOrdCat</span>(
  <span class='no'>dtName</span>,
  <span class='kw'>idname</span> <span class='kw'>=</span> <span class='st'>"id"</span>,
  <span class='kw'>adjVar</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>baseprobs</span>,
  <span class='kw'>prefix</span> <span class='kw'>=</span> <span class='st'>"grp"</span>,
  <span class='no'>rho</span>,
  <span class='no'>corstr</span>,
  <span class='kw'>corMatrix</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dtName</th>
      <td><p>Name of complete data set</p></td>
    </tr>
    <tr>
      <th>idname</th>
      <td><p>A string. The id of the data.table that identifies a unique record.
Defaults to "id".</p></td>
    </tr>
    <tr>
      <th>adjVar</th>
      <td><p>Vector of adjustment variables name in dtName - determines
logistic shift. This is specified assuming a cumulative logit
link. The vector can be NULL, of length 1, or a length equal to the
number of new categorical variables.</p></td>
    </tr>
    <tr>
      <th>baseprobs</th>
      <td><p>A matrix of baseline probabilities. The row values must sum to 1. 
The number of rows represents the number of new categorical variables. The number
of columns represents the number of possible responses - if an particular category
has fewer possible responses, assign zero probability to non-relevant columns.</p></td>
    </tr>
    <tr>
      <th>prefix</th>
      <td><p>A string.The names of the new variables will be a concatenation of
the prefix and a sequence of integers indicating the variable number.</p></td>
    </tr>
    <tr>
      <th>rho</th>
      <td><p>Correlation coefficient, -1 &lt; rho &lt; 1. Use if corMatrix is not provided.</p></td>
    </tr>
    <tr>
      <th>corstr</th>
      <td><p>Correlation structure of the variance-covariance matrix
defined by sigma and rho. Options include "ind" for an independence
structure, "cs" for a compound symmetry structure, and "ar1" for an
autoregressive structure.</p></td>
    </tr>
    <tr>
      <th>corMatrix</th>
      <td><p>Correlation matrix can be entered directly. It must be symmetrical 
and positive semi-definite. It is not a required field; if a matrix is not provided, 
then a structure and correlation coefficient rho must be specified.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Original data.table with added categorical fields</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#### Set definitions</span>

<span class='no'>baseprobs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.2</span>, <span class='fl'>0.1</span>, <span class='fl'>0.1</span>, <span class='fl'>0.6</span>,
                      <span class='fl'>0.7</span>, <span class='fl'>0.2</span>, <span class='fl'>0.1</span>, <span class='fl'>0</span>,
                      <span class='fl'>0.5</span>, <span class='fl'>0.2</span>, <span class='fl'>0.3</span>, <span class='fl'>0</span>,
                      <span class='fl'>0.4</span>, <span class='fl'>0.2</span>, <span class='fl'>0.4</span>, <span class='fl'>0</span>,
                      <span class='fl'>0.6</span>, <span class='fl'>0.2</span>, <span class='fl'>0.2</span>, <span class='fl'>0</span>),
                    <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>byrow</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>333</span>)
<span class='no'>dT</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='genData.html'>genData</a></span>(<span class='fl'>1000</span>)

<span class='no'>dX</span> <span class='kw'>&lt;-</span> <span class='fu'>genCorOrdCat</span>(<span class='no'>dT</span>, <span class='kw'>adjVar</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>baseprobs</span> <span class='kw'>=</span> <span class='no'>baseprobs</span>,
                   <span class='kw'>prefix</span> <span class='kw'>=</span> <span class='st'>"q"</span>, <span class='kw'>rho</span> <span class='kw'>=</span> <span class='fl'>.125</span>, <span class='kw'>corstr</span> <span class='kw'>=</span> <span class='st'>"cs"</span>)

<span class='no'>dM</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>data.table</span><span class='kw ns'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/melt.data.table.html'>melt</a></span>(<span class='no'>dX</span>, <span class='kw'>id.vars</span> <span class='kw'>=</span> <span class='st'>"id"</span>)
<span class='no'>dProp</span> <span class='kw'>&lt;-</span> <span class='no'>dM</span>[ , <span class='fu'><a href='https://rdrr.io/r/base/proportions.html'>prop.table</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>value</span>)), <span class='kw'>by</span> <span class='kw'>=</span> <span class='no'>variable</span>]
<span class='no'>dProp</span>[, <span class='no'>response</span> <span class='kw'>:=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>:<span class='fl'>4</span>, <span class='fl'>1</span>:<span class='fl'>3</span>, <span class='fl'>1</span>:<span class='fl'>3</span>, <span class='fl'>1</span>:<span class='fl'>3</span>, <span class='fl'>1</span>:<span class='fl'>3</span>)]</div><div class='output co'>#&gt;     variable    V1 response
#&gt;  1:       q1 0.192        1
#&gt;  2:       q1 0.096        2
#&gt;  3:       q1 0.109        3
#&gt;  4:       q1 0.603        4
#&gt;  5:       q2 0.672        1
#&gt;  6:       q2 0.209        2
#&gt;  7:       q2 0.119        3
#&gt;  8:       q3 0.492        1
#&gt;  9:       q3 0.190        2
#&gt; 10:       q3 0.318        3
#&gt; 11:       q4 0.379        1
#&gt; 12:       q4 0.222        2
#&gt; 13:       q4 0.399        3
#&gt; 14:       q5 0.592        1
#&gt; 15:       q5 0.203        2
#&gt; 16:       q5 0.205        3</div><div class='input'>
<span class='kw pkg'>data.table</span><span class='kw ns'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/dcast.data.table.html'>dcast</a></span>(<span class='no'>dProp</span>, <span class='no'>variable</span> ~ <span class='no'>response</span>,
                  <span class='kw'>value.var</span> <span class='kw'>=</span> <span class='st'>"V1"</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='fl'>0</span>)</div><div class='output co'>#&gt;    variable     1     2     3     4
#&gt; 1:       q1 0.192 0.096 0.109 0.603
#&gt; 2:       q2 0.672 0.209 0.119 0.000
#&gt; 3:       q3 0.492 0.190 0.318 0.000
#&gt; 4:       q4 0.379 0.222 0.399 0.000
#&gt; 5:       q5 0.592 0.203 0.205 0.000</div><div class='input'>                   
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Keith Goldfeld.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


